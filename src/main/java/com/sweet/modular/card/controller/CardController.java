package com.sweet.modular.card.controller;import com.sweet.core.exception.ServiceException;import com.sweet.core.translationDict.DictParam;import com.sweet.core.translationDict.TranslationDict;import com.sweet.modular.card.mapper.CardMapper;import org.springframework.web.bind.annotation.RequestMapping;import com.sweet.core.model.ResultBean;import com.sweet.core.model.system.LayuiPageInfo;import com.sweet.modular.card.entity.Card;import com.sweet.modular.card.service.CardService;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.web.bind.annotation.RequestMapping;import com.sweet.core.util.StringUtil;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.ResponseBody;import org.springframework.stereotype.Controller;/** * <p> * 卡项 前端控制器 * </p> * * @author admin * @since 2020-04-28 */@Controller@RequestMapping("/admin/card")public class CardController {    @Autowired    CardService cardService;    @Autowired    CardMapper cardMapper;    /**     * 列表页     */    @RequestMapping("/card_list")    public String list(){        return "/modular/card/card_list";    }    /**     * 编辑页     */    @RequestMapping("/card_edit")    public String edit(){        return "/modular/card/card_edit";    }    /**     * 添加/编辑     */    @RequestMapping("/editCard")    @ResponseBody    public ResultBean editCard(Card card){        if(card.getId()==null){            Card newCard = cardMapper.getCardByNo(card.getNo());            if(newCard!=null){                throw new ServiceException("该编号已经被使用,换一个试试吧~");            }        }        cardService.saveOrUpdate(card);        return ResultBean.success(card);    }    /**     * 删除     */    @RequestMapping("/delCard")    @ResponseBody    public ResultBean delCard(Card card){        cardService.removeById(card);        return ResultBean.success(card);    }    /**     * 添加修改菜单     * @param menu     * @return     */    @RequestMapping("/getCardDetail")    @ResponseBody    public ResultBean getCardDetail(String id){        Card card = cardService.getById(id);        return ResultBean.success(card);    }    /**     * 列表数据     */    @RequestMapping("/getCardList")    @ResponseBody    public LayuiPageInfo getCardList(Card Card){        LayuiPageInfo pageInfo = cardService.findPageBySpec(Card);        return pageInfo;    }}