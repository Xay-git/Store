<% layout("/common/_container.html"){ %><div class="layui-fluid bg-white" id="app" >    <fieldset class="layui-elem-field">        <legend>卡项设置</legend>        <div class="layui-field-box" style="padding: 30px;min-height:calc(100vh - 150px)">            <div class="layui-row layui-col-space20">                <div class="layui-col-md4">                    <el-card class="box-card add-card" shadow="hover"  style="cursor:pointer;" @click.native="btnAdd" >                        <i class="layui-icon layui-icon-add-1" @click="btnAdd" >&nbsp;&nbsp;添加</i>                    </el-card>                </div>                <div class="layui-col-md4" v-for="card in cardList" >                    <el-card class="box-card" shadow="hover">                        <div slot="header" class="clearfix">                            <span>{{card.name}}</span>                            <div class="layui-badge layui-bg-green layui-hide-xs">NO: {{card.no}}</div>                            <div style="display: inline-block; text-align: right;width: 50%;float: right;">                                <el-button style=" padding: 3px 0;" type="text" @click="btnEdit(card.id)">操作</el-button>                                <el-button style=" padding: 3px 0;color: #f56c6c;" type="text" @click="btnDel(card.id)">删除</el-button>                            </div>                        </div>                        <div  class="text item">                            开卡金额：{{app.getFloatStr(card.amount)}}                            <span style="margin-left: 30px">提成比例：{{card.pushMoney}}</span>                        </div>                        <div  class="text item">                            赠送金额：{{app.getFloatStr(card.giveAmount)}}                        </div>                        <div  class="text item">                            项目折扣：{{card.projectDiscount}}                        </div>                        <div  class="text item">                            商品折扣：{{card.goodDiscount}}                        </div>                    </el-card>                </div>            </div>        </div>    </fieldset></div><script>    var PREFIX = '/admin/card';    var vm = new Vue({        el: '#app',        data: {            msg: 'Hello World!',            condition:'',            cardList:[]        },        methods: {            btnAdd:function () {                app.go(PREFIX+"/card_edit")            },            btnDel:function(id){                app.confirm("确定删除吗?",function () {                    request.fetch(PREFIX+'/delCard',{id:id}).then(res=>{                        app.success("删除成功！")                        location.reload();                    })                })            },            btnEdit:function (id) {                app.go(PREFIX+`/card_edit?id=\${id}`)            },            getCardList(){                request.fetch(PREFIX+"/getCardList").then(res=>{                    vm.cardList = res;                })            }        },        mounted:async function() {            vm = this;            vm.getCardList();        },        updated: function () {        }    })</script><style>    .box-card{        height: 220px;    }    .add-card{        -webkit-display:flex;        display:flex;        -webkit-align-items:center;        align-items:center;        -webkit-justify-content:center;        justify-content:center;        font-size: 16px;        color: rgba(0,0,0,.45);        border:1px dashed rgba(144,146,152,.3);    }    .add-card:hover{        color: #40a9ff;        border-color: #40a9ff    }    .text {        font-size: 14px;    }    .item {        margin-bottom: 18px;    }    .clearfix:before,    .clearfix:after {        display: table;        content: "";    }    .clearfix:after {        clear: both    }</style><% } %>